<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="view_tree_pazysalvo" model="ir.ui.view">
        <field name="name">pazysalvo.tree</field>
        <field name="model">pazysalvo</field>
        <field name="arch" type="xml">
            <tree>
                <field name="id"/>
                <field name="employee_id"/>
            </tree>
        </field>
    </record>


    <record id="view_form_pazysalvo" model="ir.ui.view">
        <field name="name">pazysalvo.form</field>
        <field name="model">pazysalvo</field>
        <field name="arch" type="xml">
            <form string="Paz y Salvo">
                <header>
                    <field name="state" widget="statusbar" statusbar_visible="draft,in_progress,signed,done,cancel"/>
                    <button name="aceptar" string="Enviar Solicitud" type="object" class="oe_highlight"
                            style="width:100%; margin-bottom:6px;" attrs="{'invisible':[('state','!=','draft')]}"/>
                    <!--<button name="borrar" string="Acción 2" type="object" style="width:100%;"/>-->

                </header>
                <div class="alert alert-info" role="alert" style="margin-bottom: 0px"
                     attrs="{'invisible': [('des_settlement_type', '=', False)]}">
                    <field name="des_settlement_type" readonly="1" force_save="1" widget="html"/>
                </div>
                <div style="display:flex; align-items:flex-start; gap:12px;">

                    <!-- BARRA LATERAL: ancho fijo, sin shrink -->
                    <div style="flex:0 0 240px; max-width:440px; min-width:440px; box-sizing:border-box; margin: 10px 5px;">
                        <div style="background:#243742; border:1px solid #dee2e6; padding:12px; border-radius:4px;">

                            <div style="width:128px; height:128px; border-radius:50%; overflow:hidden;
                                  box-shadow:0 0 0 4px #fff, 0 6px 16px rgba(0,0,0,.18);
                                  margin:15px auto; display:block;">
                                <field name="image_1920" widget="image"
                                       options="{'preview_image':'image_128','size':[128,128]}"/>

                            </div>
                            <div style="font-size: 15px; color: white; text-align: center;">
                                <field name="employee_id" readonly="1" required="1"
                                />
                            </div>
                            <h4 style="margin:0 0 20px 0; font-size:14px; color:#fff;">Áreas a Firmar</h4>
                            <button style="width:100%; margin-bottom:6px; box-shadow: 0px 0px 33px -4px rgba(0,0,0,0.98);">
                                Disciplina e Investigacion
                            </button>
                            <button style="width:100%; margin-bottom:6px;">Recursos Humanos</button>
                        </div>
                    </div>

                    <!-- CONTENIDO: ocupa el resto, permitido encoger/crecer -->
                    <div style="flex:1 1 auto; min-width:0;">
                        <div class="o_form_sheet_bg" style="margin: 0 auto;">
                            <sheet>
                                <div class="oe_title" style="margin-bottom:6px;">
                                    <h2 style="text-align:center; color:#5D8DA8;">FORMULARIO PAZ Y SALVO</h2>
                                </div>
                                <!--                                <div class="oe_title">-->
                                <!--                                    <h1>-->
                                <!--                                        <field name="employee_id" required="1" placeholder="Name..."/>-->
                                <!--                                    </h1>-->
                                <!--                                </div>-->
                                <group style="display: inline-block;" string="Información del Empleado">
                                    <div style="display:flex; flex-wrap:nowrap; gap:6px; align-items:stretch;">
                                        <!-- Columna izquierda (más angosta) -->
                                        <div style="flex:0 0 50%; margin-top: 10px; padding:6px; box-sizing:border-box; min-width: 280px;">
                                            <group>
                                                <field name="employee_id"
                                                       string="Nombre Empleado"
                                                       attrs="{'readonly': [('state','in',['in_progress','signed','done','cancel'])]}"
                                                       options="{'no_create': True, 'no_open': True}"
                                                       context="{'employee_show_identification': True,
                                                             'employee_name_search_with_identification': True}"/>
                                                <field name="identification_id"/>
                                                <field name="fecha_nacimiento_id"/>
                                                <field name="genero"/>

                                            </group>
                                        </div>
                                        <!-- Columna derecha (ocupa el resto) -->
                                        <div style="flex:1 1 auto; margin-top: 10px; margin-left: 10px; padding:6px; box-sizing:border-box;">
                                            <group>
                                                <field name="fecha_solicitud"
                                                       style="color: red; font-weight:bold; text-decoration:underline;"/>
                                                <field name="contract_type_id"/>
                                                <field name="employee_job_title"/>
                                                <field name="settlement_type"
                                                       attrs="{'readonly': [('state','!=','draft')]}"
                                                       help="Seleccione el motivo de retiro del colaborador."
                                                       widget="selection"/>

                                                <field name="fecha_vinculacion"/>
                                                <field name="settlement_date"
                                                       attrs="{'readonly': [('state','in',['in_progress','signed','done','cancel'])]}"/>
                                            </group>
                                        </div>
                                    </div>
                                </group>
                                <group style="display: inline-block;" string="Información del Trabajo">
                                    <div style="display:flex; flex-wrap:nowrap; gap:6px; align-items:stretch;">
                                        <!-- Columna izquierda (más angosta) -->
                                        <div style="flex:0 0 55%; border:1px solid #000; padding:6px; box-sizing:border-box; min-width: 280px;">
                                            <group>


                                            </group>
                                        </div>
                                        <!-- Columna derecha (ocupa el resto) -->
                                        <div style="flex:1 1 auto; border:1px solid #000; padding:6px; box-sizing:border-box;">
                                            <group>


                                            </group>
                                        </div>
                                    </div>
                                </group>

                                <group string="Validaciones" col="4">

                                </group>
                            </sheet>
                        </div>
                    </div>
                </div>
            </form>
        </field>
    </record>
</odoo>