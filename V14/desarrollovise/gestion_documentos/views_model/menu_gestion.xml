<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- ========= ACCIONES (si ya las tienes creadas, puedes omitir esta sección) ========= -->
    <record id="action_gestion_dependencia" model="ir.actions.act_window">
          <field name="name">Dependencias</field>
          <field name="res_model">gestion.dependencia</field>
          <field name="view_mode">tree,form</field>
    </record>

    <record id="action_gestion_serie" model="ir.actions.act_window">
          <field name="name">Series</field>
          <field name="res_model">gestion.serie</field>
          <field name="view_mode">tree,form</field>
    </record>

    <record id="action_gestion_subserie" model="ir.actions.act_window">
          <field name="name">Subseries</field>
          <field name="res_model">gestion.subserie</field>
          <field name="view_mode">tree,form</field>
    </record>

    <record id="action_disposicion_final" model="ir.actions.act_window">
          <field name="name">Disposiciones</field>
          <field name="res_model">gestion.disposicion.final</field>
          <field name="view_mode">tree,form</field>
    </record>

    <record id="action_soportes" model="ir.actions.act_window">
          <field name="name">Soportes</field>
          <field name="res_model">gestion.soporte</field>
          <field name="view_mode">tree,form</field>
    </record>

    <record id="action_relacion_trd" model="ir.actions.act_window">
          <field name="name">Relación TRD</field>
          <field name="res_model">relacion.trd</field>
          <field name="view_mode">tree,form</field>
    </record>



    <!-- ====== ACCIÓN ISS ====== -->
<record id="action_gestion_iss" model="ir.actions.act_window">
    <field name="name">Índice de Series y Subseries Documentales (ISS)</field>
    <field name="res_model">gestion.iss</field>
    <field name="view_mode">tree,form</field>
</record>

<record id="action_gestion_iss_tree_av" model="ir.actions.act_window.view">
    <field name="sequence" eval="1"/>
    <field name="view_mode">tree</field>
    <field name="view_id" ref="gestion_documentos.view_gestion_iss_tree"/>
    <field name="act_window_id" ref="action_gestion_iss"/>
</record>

<record id="action_gestion_iss_form_av" model="ir.actions.act_window.view">
    <field name="sequence" eval="2"/>
    <field name="view_mode">form</field>
    <field name="view_id" ref="gestion_documentos.view_gestion_iss_form"/>
    <field name="act_window_id" ref="action_gestion_iss"/>
</record>

<!-- ====== ACCIÓN CCD ====== -->
<record id="action_gestion_ccd" model="ir.actions.act_window">
    <field name="name">Cuadro de Clasificación Documental (CCD)</field>
    <field name="res_model">gestion.iss</field> <!-- mismo modelo -->
    <field name="view_mode">tree,form</field>
</record>

<record id="action_gestion_ccd_tree_av" model="ir.actions.act_window.view">
    <field name="sequence" eval="1"/>
    <field name="view_mode">tree</field>
    <field name="view_id" ref="gestion_documentos.view_gestion_ccd_tree"/>
    <field name="act_window_id" ref="action_gestion_ccd"/>
</record>

<record id="action_gestion_ccd_form_av" model="ir.actions.act_window.view">
    <field name="sequence" eval="2"/>
    <field name="view_mode">form</field>
    <field name="view_id" ref="gestion_documentos.view_gestion_ccd_form"/>
    <field name="act_window_id" ref="action_gestion_ccd"/>
</record>


<record id="action_gestion_trd" model="ir.actions.act_window">
  <field name="name">Tabla de Retención Documental (TRD)</field>
  <field name="res_model">gestion.trd</field>
  <field name="view_mode">tree,form,pivot</field>
  <field name="search_view_id" ref="gestion_documentos.view_gestion_trd_search"/>
  <field name="context">{'search_default_grp_dep': 1,'search_default_grp_ser': 1,'search_default_grp_sub': 1, 'pivot_measures': ['__count']}</field>
</record>





    <!-- Menú raíz -->
    <menuitem id="menu_gestion_documentos_root" name="Gestión Documentos" web_icon="gestion_documentos,static/img/imagen1.gif"/>

    <!-- ========= PESTAÑA CONFIGURACIÓN ========= -->
    <menuitem id="menu_gd_configuracion"
              name="Configuración"
              parent="menu_gestion_documentos_root"
              sequence="20"/>

    <!-- Hijos de Configuración -->
    <menuitem id="menu_gd_config_dependencias"
              name="Dependencias"
              parent="menu_gd_configuracion"
              action="action_gestion_dependencia"
              sequence="10"/>

    <menuitem id="menu_gd_config_series"
              name="Series"
              parent="menu_gd_configuracion"
              action="action_gestion_serie"
              sequence="20"/>

    <menuitem id="menu_gd_config_subseries"
              name="Subseries"
              parent="menu_gd_configuracion"
              action="action_gestion_subserie"
              sequence="30"/>

    <menuitem id="menu_gd_config_disposiciones"
              name="Disposiciones"
              parent="menu_gd_configuracion"
              action="action_disposicion_final"
              sequence="40"/>

    <menuitem id="menu_gd_config_soportes"
              name="Soportes"
              parent="menu_gd_configuracion"
              action="action_soportes"
              sequence="50"/>

    <menuitem id="menu_gd_config_soportes"
              name="Relación TRD"
              parent="menu_gd_configuracion"
              action="action_relacion_trd"
              sequence="60"/>




    <!-- ========= PESTAÑA ISS ========= -->
    <menuitem id="menu_gd_iss"
              name="ISS"
              parent="menu_gestion_documentos_root"
              action="action_gestion_iss"
              />

    <menuitem id="menu_gd_ccd"
              name="CCD"
              parent="menu_gestion_documentos_root"
              action="action_gestion_ccd"
              />

    <menuitem id="menu_gd_trd"
              name="TRD"
              parent="menu_gestion_documentos_root"
              action="action_gestion_trd"
              />


</odoo>
